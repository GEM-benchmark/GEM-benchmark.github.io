document.getElementsByTagName('details')[0].open = true; initializeTables(); initializeCodeBlocks(); function initializeTables() { const elements = document.getElementsByTagName('table'); const wrapperTemplate = document.getElementById('table-template'); for (let i = 0; i < elements.length; i += 1) { const element = elements[i]; console.log(element); const div = wrapperTemplate.content.cloneNode(true).children[0]; element.parentElement.replaceChild(div, element); div.getElementsByClassName('expand-icon')[0].addEventListener('click', toggleModal); div.appendChild(element) } } function initializeCodeBlocks() { const elements = document.getElementsByTagName('pre'); const wrapperTemplate = document.getElementById('code-block-template'); for (let i = 0; i < elements.length; i += 1) { const element = elements[i]; const div = wrapperTemplate.content.cloneNode(true).children[0]; element.parentElement.replaceChild(div, element); div.getElementsByClassName('expand-icon')[0].addEventListener('click', toggleModal); div.getElementsByClassName('copy-icon')[0].addEventListener('click', copy); div.appendChild(element) } } function toggleModal(e) { const icon = e.currentTarget; const wrapper = icon.parentElement.parentElement; if (icon.className === 'expand-icon') { document.body.style.overflow = 'hidden'; wrapper.className = wrapper.className + ' expand'; icon.className = 'collapse-icon' } else { wrapper.className = wrapper.className.split(' ')[0]; icon.className = 'expand-icon'; document.body.style.overflow = 'scroll' } } function copy(e) { const icon = e.currentTarget; const wrapper = icon.parentElement.parentElement; const content = wrapper.getElementsByTagName('code')[0].textContent; navigator.clipboard.writeText(content) }
