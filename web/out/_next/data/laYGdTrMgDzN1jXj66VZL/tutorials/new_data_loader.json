{"pageProps":{"taskData":{"contentHtml":"<p>We are using the HuggingFace hub to host all new datasets. All you will have to do is to upload your dataset, along with potential challenge splits, using the steps outlined below.</p>\n<h2 id=\"user-content-table-of-contents\">Table of Contents</h2>\n<ul>\n<li><a href=\"#setup\">Setup</a>\n<ul>\n<li><a href=\"#create-a-huggingface-account\">Create a HuggingFace account</a></li>\n<li><a href=\"#join-the-gem-organization\">Join the GEM Organization</a></li>\n<li><a href=\"#install-prerequisites\">Install prerequisites</a></li>\n</ul>\n</li>\n<li><a href=\"#creating-the-dataset\">Creating the dataset</a>\n<ul>\n<li><a href=\"#set-up-the-repository\">Set-up the repository</a></li>\n<li><a href=\"#preparing-the-files\">Preparing the files</a></li>\n<li><a href=\"#uploading-the-dataset\">Uploading the dataset</a></li>\n</ul>\n</li>\n<li><a href=\"#potential-errors\">Potential Errors</a>\n<ul>\n<li><a href=\"#git-lfs-is-not-a-git-command\">git: 'lfs' is not a git command.</a></li>\n<li><a href=\"#403-client-error-forbidden-for-url\">403 Client Error: Forbidden for url</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"user-content-setup\">Setup</h2>\n<h3 id=\"user-content-create-a-huggingface-account\">Create a HuggingFace account</h3>\n<p>To upload the dataset, you will need a HuggingFace account. If you already have one, you can skip this step.</p>\n<p>If not, go to <a href=\"https://huggingface.co/join\">huggingface.co/join</a> and create an account.</p>\n<h3 id=\"user-content-join-the-gem-organization\">Join the GEM Organization</h3>\n<p>We are hosting all datasets in the GEM organization which you can join by following <a href=\"https://huggingface.co/organizations/GEM/share/PDrZPZBSZTtlPlsgCCYfTCbrQAOgrUNZmk\">this link</a>.</p>\n<h3 id=\"user-content-install-prerequisites\">Install prerequisites</h3>\n<p>To install all the requirements, follow the steps below:</p>\n<pre><code><span># Install the hub interface.</span>\npip install huggingface_hub\n<span># Install Git for large files.</span>\ngit lfs install\n<span># Log in to the hub</span>\nhuggingface-cli login</code></pre>\n<p>Great, you are now prepared to create your dataset!</p>\n<h2 id=\"user-content-creating-the-dataset\">Creating the dataset</h2>\n<p>The following steps largely follow <a href=\"https://huggingface.co/docs/datasets/share.html#add-a-community-dataset\">this tutorial</a>.</p>\n<h3 id=\"user-content-set-up-the-repository\">Set-up the repository</h3>\n<p>First, we will create the empty repository we will use to host the dataset.</p>\n<pre><code>huggingface-cli repo create YOUR_DATASET_NAME --<span>type</span> dataset --organization GEM\n<span># Once created, we can download it.</span>\ngit <span>clone</span> https://huggingface.co/datasets/GEM/YOUR_DATASET_NAME</code></pre>\n<h3 id=\"user-content-preparing-the-files\">Preparing the files</h3>\n<p>You will need to add the following files to the repository.</p>\n<ol>\n<li>\n<p><code>your_dataset_name.json</code> is a Dataset card that is created following our other tutorial and using our <a href=\"https://huggingface.co/spaces/GEM/DatasetCardForm\">collection tool</a>. If you are completing the data part first, feel free to leave it empty for now. However, only a dataset with completed data card is part of GEM, so please add it once it is ready.</p>\n</li>\n<li>\n<p>The raw data files of the dataset (optional, if they are hosted elsewhere you can specify the URLs in the dataset script).</p>\n</li>\n<li>\n<p><code>your_dataset_name.py</code> is your dataset loading script (optional if your data files are already in the supported formats csv/jsonl/json/parquet/txt). For information on how to create a dataset script, see the <a href=\"https://huggingface.co/docs/datasets/dataset_script.html\">documentation</a>. You can start from the <a href=\"https://github.com/huggingface/datasets/blob/master/templates/new_dataset_script.py\">template</a> and simply fill in the details.</p>\n</li>\n<li>\n<p><code>dataset_infos.json</code> contains metadata about the dataset (required only if you have a dataset script).</p>\n</li>\n</ol>\n<p>While we don't have strong restrictions on the dataset formats, please follow the guidelines:</p>\n<ol>\n<li>Each dataset should have splits named <code>train</code>, <code>validation</code>, and <code>test</code>. Additional challenge sets splits can be named <code>challenge_${name}</code> for consistency.</li>\n<li>Each split should have a field called <code>gem_id</code> which has the naming convention of <code>GEM-${DATASET_NAME}-${SPLIT-NAME}-${id}</code> where <code>id</code> is an incrementing number starting at 1. Please look <a href=\"https://github.com/huggingface/datasets/blob/master/datasets/gem/gem.py#L936\">at our existing data loader</a> for reference.</li>\n</ol>\n<h3 id=\"user-content-uploading-the-dataset\">Uploading the dataset</h3>\n<p>First add all the dataset files to <code>git lfs</code> tracking and then use git as usual to track all other files.</p>\n<pre><code>cp /somewhere/data/*.json .\ngit lfs track *.json\ngit add .gitattributes\ngit add *.json\ngit commit -m <span>\"add json files\"</span></code></pre>\n<p>Afterwards you can also add the data card and all other files and commit them. Once everything is ready, simply run <code>git push</code>. After you enter your HuggingFace username and password, everything will be uploaded to the Hub!\nYou can find an example dataset with a challenge dataset (generated using an NL-Augmenter transformation) <a href=\"https://huggingface.co/datasets/GEM/test-transform/tree/main\">here</a>.</p>\n<p>You can update the dataset simply by pushing updates the same way.</p>\n<h2 id=\"user-content-potential-errors\">Potential Errors</h2>\n<h3 id=\"user-content-git-lfs-is-not-a-git-command\">git: 'lfs' is not a git command.</h3>\n<p>git lfs needs to be installed separately. Depending on your operating system, you can follow <a href=\"https://stackoverflow.com/questions/48734119/git-lfs-is-not-a-git-command-unclear\">this post</a> to solve the issue.</p>\n<h3 id=\"user-content-403-client-error-forbidden-for-url\">403 Client Error: Forbidden for url</h3>\n<p>You may encounter the following when trying to create a dataset:\n<code>403 Client Error: Forbidden for url: https://huggingface.co/api/repos/create - You don't have the rights to create a dataset under this namespace</code></p>\n<p>This happens when you are not part of the organization or have a typo in the creation command. Ensure that you are (1) logged in, (2) member of the GEM organization, and (3) have typed the <code>--organization GEM</code> command using all upper case letters.</p>\n","title":"Adding a data loader","type":"Data","background":"This tutorial shows how to add your dataset to GEM."}},"__N_SSG":true}