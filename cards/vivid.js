initializeSections();initializeTables();initializeCodeBlocks();initializeTags();initializeNav();initializeEscapes();function initializeSections(){const sections=document.getElementsByClassName('section');const sectionButtons=document.getElementsByClassName('section-open-button');sections[0].classList.add('open');for(let i=0;i<sections.length;i+=1){sectionButtons[i].addEventListener('click',(e)=>{if(sections[i].classList.contains('open')){closeSection(sections[i])}else{openSection(sections[i])}})}document.getElementById('expand-all').addEventListener('click',(e)=>{for(section of sections){openSection(section)}});document.getElementById('collapse-all').addEventListener('click',(e)=>{for(section of sections){closeSection(section)}})}function openSection(section){const collapsible=section.children[1];collapsible.style.maxHeight=collapsible.scrollHeight+"px";section.classList.add('open');setTimeout(()=>{collapsible.removeAttribute('style')},500)}function closeSection(section){if(section.classList.contains('open')){const collapsible=section.children[1];collapsible.style.maxHeight=collapsible.scrollHeight+"px";section.classList.remove('open');setTimeout(()=>{collapsible.removeAttribute('style')},200)}}function initializeTables(){const elements=document.getElementsByTagName('table');const wrapperTemplate=document.getElementById('table-template');for(let i=0;i<elements.length;i+=1){const element=elements[i];const table=wrapperTemplate.content.cloneNode(true).children[0];const wrapper=document.createElement('div');wrapper.appendChild(table);wrapper.addEventListener('click',(e)=>escapeModal);element.parentElement.replaceChild(wrapper,element);table.getElementsByClassName('expand-icon')[0].addEventListener('click',toggleModal);table.appendChild(element)}}function initializeCodeBlocks(){const elements=document.getElementsByTagName('pre');const wrapperTemplate=document.getElementById('code-block-template');for(let i=0;i<elements.length;i+=1){const element=elements[i];const code=wrapperTemplate.content.cloneNode(true).children[0];const wrapper=document.createElement('div');wrapper.appendChild(code);wrapper.addEventListener('click',(e)=>escapeModal);element.parentElement.replaceChild(wrapper,element);code.getElementsByClassName('expand-icon')[0].addEventListener('click',toggleModal);code.getElementsByClassName('copy-icon')[0].addEventListener('click',copy);code.appendChild(element)}}function initializeEscapes(){document.addEventListener('click',(e)=>{if(e.target.classList.contains('expand')){escapeModal(e.target)}});document.addEventListener('keyup',(e)=>{if(e.key==="Escape"){const expanded=document.getElementsByClassName('expand');if(expanded.length>0){escapeModal(expanded[0])}}})}function initializeTags(){for(tag of document.getElementsByClassName('tag')){const s=tag.parentElement.parentElement.parentElement.parentElement;tag.addEventListener('click',(e)=>jumpToHeading(titleToId(e.currentTarget.textContent)))}}function initializeNav(){document.getElementById('datacard-outline-button').addEventListener('click',toggleNav);for(heading of document.getElementById('datacard-outline-nav').getElementsByTagName('li')){heading.addEventListener('click',(e)=>{jumpToHeading(titleToId(e.currentTarget.textContent))})}}function toggleNav(){const button=document.getElementById('datacard-outline-button');const nav=document.getElementById('datacard-outline-nav');if(button.classList.contains('active')){button.classList.remove('active');nav.classList.remove('active')}else{button.classList.add('active');nav.classList.add('active')}}function jumpToHeading(id){const heading=document.getElementById(id);if(heading.parentElement.parentElement.classList.contains('section')){openSection(heading.parentElement.parentElement)}else if(heading.parentElement.parentElement.parentElement.classList.contains('section')){openSection(heading.parentElement.parentElement.parentElement)}const cardWindow=document.getElementsByClassName('content-wrapper')[0];setTimeout(()=>{cardWindow.scrollTop=heading.offsetTop-90},500)}function titleToId(title){return title.trim().toLowerCase().replaceAll(' ','-')}function toggleModal(e){const icon=e.currentTarget;const wrapper=icon.parentElement.parentElement.parentElement;if(icon.className==='expand-icon'){document.body.style.overflow='hidden';wrapper.classList.add('expand');icon.className='collapse-icon'}else{wrapper.classList.remove('expand');icon.className='expand-icon';document.body.style.overflow='scroll'}}function escapeModal(wrapper){wrapper.classList.remove('expand');for(icon of wrapper.getElementsByClassName('collapse-icon')){icon.className='expand-icon'}document.body.style.overflow='scroll'}function copy(e){const icon=e.currentTarget;const wrapper=icon.parentElement.parentElement.parentElement;const content=wrapper.getElementsByTagName('code')[0].textContent;navigator.clipboard.writeText(content);}
